# ุชุบุฑุงุช ุงุนูุงู ุดุฏู ุฏุฑ ุณุณุชู ฺุช ู ูพุดุชุจุงู

## ุชุงุฑุฎ: 2024

### ุฎูุงุตู ุชุบุฑุงุช

ุงู ุณูุฏ ุดุงูู ุชูุงู ุชุบุฑุงุช ู ุจูุจูุฏูุง ุงุนูุงู ุดุฏู ุจุฑ ุฑู ุณุณุชู ฺุช ู ูพุดุชุจุงู ุงุณุช.

---

## โ ูุดฺฉูุงุช ฺุช ฺฉู ุจุฑุทุฑู ุดุฏูุฏ

### 1. ุงูฺฉุงู ูุฑุงุด ูุงู ฺฏุฑูู ู ุชูุถุญุงุช โ๏ธ

**ูุดฺฉู**: ุงูฺฉุงู ูุฑุงุด ูุงู ฺฏุฑูู ู ุงุนุถุง ุขู ูุฌูุฏ ูุฏุงุดุช.

**ุฑุงู ุญู**: 
- ุฏุณุชูุฑ `UpdateChatRoomCommand` ุฌุฏุฏ ุฏุฑ ุจฺฉูุฏ ุงุถุงูู ุดุฏ
- API endpoint ุจุฑุง ุจูโุฑูุฒุฑุณุงู ฺฏุฑูู (`PUT /api/chat/rooms/{roomId}`)
- ุชุจ "ูุฑุงุด ฺฏุฑูู" ุฏุฑ `GroupManagementModal` ุงุถุงูู ุดุฏ
- ูุงูฺฉ ู ุงุฏููโูุง ฺฏุฑูู ูโุชูุงููุฏ ูุงู ู ุชูุถุญุงุช ฺฏุฑูู ุฑุง ูุฑุงุด ฺฉููุฏ

**ูุงูโูุง ุชุบุฑ ุงูุชู**:
- `src/Application/Chats/Commands/UpdateChatRoomCommand.cs` (ุฌุฏุฏ)
- `src/Web/Endpoints/Chat.cs`
- `src/Web/ClientApp/src/services/chatApi.js`
- `src/Web/ClientApp/src/components/Chat/GroupManagementModal.jsx`

---

### 2. ุงุตูุงุญ ููุงุด ูุงู ฺฉุงุฑุจุฑุงู ุฏุฑ ฺฏุฑูู โ๏ธ

**ูุดฺฉู**: ุจุฑุง ุชูุงู ฺฉุงุฑุจุฑุงู ุฏุฑ ฺฏุฑูู ูุงู "ูููุงู" ููุงุด ุฏุงุฏู ูโุดุฏ ุง ฺฉ ูุงุตูู ุงุถุงู ุฏุฑ ุงุจุชุฏุง ูุงู ูุฌูุฏ ุฏุงุดุช.

**ุฑุงู ุญู**: 
- ูุงุตูู ุงุถุงู ุฏุฑ ุงุจุชุฏุง ุฑุดุชู ูุงู ฺฉุงุฑุจุฑ ุฏุฑ ุชูุงู ููุงุฑุฏ ุงุณุชูุงุฏู ุฏุฑ `ChatHub.cs` ุญุฐู ุดุฏ
- ุงุฒ `$"{user.FirstName} {user.LastName}"` ุจู ุฌุง `$" {user.FirstName} {user.LastName}"` ุชุบุฑ ุงูุช

**ูุงูโูุง ุชุบุฑ ุงูุชู**:
- `src/Infrastructure/Hubs/ChatHub.cs`

---

### 3. ุงุตูุงุญ ุดูุงุฑูุฏู ูพุงูโูุง ุฎูุงูุฏู ูุดุฏู โ๏ธ

**ูุดฺฉู**: ููุช ฺฉุงุฑุจุฑ ุขููุงู ุจูุฏ ู ูพุงู ุฏุฑุงูุช ูโฺฉุฑุฏุ ุจุงุฏ ุฏูุจุงุฑ ูุงุฑุฏ ฺุช ูโุดุฏ ุชุง ุดูุงุฑูุฏู ุตูุฑ ุดูุฏ.

**ุฑุงู ุญู**: 
- ููุทู `MARK_ALL_MESSAGES_AS_READ_IN_ROOM` ุฏุฑ `ChatContext` ุจูุจูุฏ ุงูุช
- ุญุงูุง ุญุช ุงฺฏุฑ ูพุงูโูุง ุจุงุฑฺฏุฐุงุฑ ูุดุฏู ุจุงุดูุฏุ ุดูุงุฑูุฏู unread ุจู ุตูุฑ ุชูุธู ูโุดูุฏ
- ูุงุจุณุชฺฏ ุจู ุจุงุฑฺฏุฐุงุฑ ูพุงูโูุง ุจุฑุง ุจูโุฑูุฒุฑุณุงู ุดูุงุฑูุฏู ุญุฐู ุดุฏ

**ูุงูโูุง ุชุบุฑ ุงูุชู**:
- `src/Web/ClientApp/src/contexts/ChatContext.jsx`

---

### 8. ุชูุถุญ (Caption) ุงุฌุจุงุฑ ุจุฑุง ูุงูโูุง ุขูพููุฏ ุดุฏู โ๏ธ

**ูุดฺฉู**: ุงูฺฉุงู ุขูพููุฏ ูุงู ุจุฏูู ุชูุถุญ ูุฌูุฏ ุฏุงุดุช.

**ุฑุงู ุญู**: 
- ูุจู ุงุฒ ุงุฑุณุงู ูุงูุ ุงุฒ ฺฉุงุฑุจุฑ ุฏุฑุฎูุงุณุช ุชูุถุญ ุงุฌุจุงุฑ ูโุดูุฏ
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ุชูุถุญ ูุงุฑุฏ ูฺฉูุฏ ุง ฺฉูุณู ฺฉูุฏุ ูุงู ุงุฑุณุงู ููโุดูุฏ
- ูพุงู ุฎุทุง ุจู ูุงุฑุณ ููุงุด ุฏุงุฏู ูโุดูุฏ

**ูุงูโูุง ุชุบุฑ ุงูุชู**:
- `src/Web/ClientApp/src/components/Chat/MessageInput.jsx`

---

## โ ุจูุจูุฏูุง ุณุณุชู ูพุดุชุจุงู

### 9-11. ุณุณุชู ูุฏุฑุช ูพุดุชุจุงู ู ุณุงุณุชโูุง ุฌุฏุฏ โ๏ธ

**ูุดฺฉูุงุช**: 
- ุณุงุณุช ุชุฎุตุต ู ุงูุชูุงู ุชฺฉุชโูุง ูุงุฏุฑุณุช ุจูุฏ
- ููุช ูพุดุชุจุงู ุขููุงู ูโุดุฏุ ฺุชโูุง ุฑูุง ูโุดุฏูุฏ
- ุงูฺฉุงู ูุฏุฑุช ูพุดุชุจุงูโูุง ูุฌูุฏ ูุฏุงุดุช

**ุฑุงูโุญูโูุง ูพุงุฏูโุณุงุฒ ุดุฏู**:

#### ุงูู) ุณุณุชู ูุฏุฑุช ูพุดุชุจุงู (Backend)

**ุฏุณุชูุฑุงุช ุฌุฏุฏ**:
- `CreateSupportAgentCommand`: ุงูุฒูุฏู ูพุดุชุจุงู ุฌุฏุฏ
- `UpdateSupportAgentCommand`: ูุฑุงุด ุชูุธูุงุช ูพุดุชุจุงู (ูุนุงู/ุบุฑูุนุงูุ ุญุฏุงฺฉุซุฑ ฺุช ููุฒูุงู)
- `DeleteSupportAgentCommand`: ุญุฐู ูพุดุชุจุงู (ุจุง ุงูุชูุงู ฺุชโูุง ูุนุงู)
- `GetAllAgentsQuery`: ุฏุฑุงูุช ูุณุช ุชูุงู ูพุดุชุจุงูโูุง

**API Endpoints ุฌุฏุฏ**:
- `GET /api/support/agents` - ุฏุฑุงูุช ูุณุช ูพุดุชุจุงูโูุง
- `POST /api/support/agents` - ุงูุฒูุฏู ูพุดุชุจุงู ุฌุฏุฏ
- `PUT /api/support/agents/{agentId}` - ูุฑุงุด ูพุดุชุจุงู
- `DELETE /api/support/agents/{agentId}` - ุญุฐู ูพุดุชุจุงู

#### ุจ) ุจูุจูุฏ ุณุณุชู ุชุฎุตุต ู ุงูุชูุงู

**ุชุบุฑุงุช ุฏุฑ `AgentAssignmentService`**:

1. **ุงูุชูุงู ููุดููุฏ ุชฺฉุชโูุง ููฺฏุงู ุขููุงู ุดุฏู ูพุดุชุจุงู**:
   - ุงุจุชุฏุง ุณุน ูโุดูุฏ ูพุดุชุจุงู ุฏฺฏุฑ ุฏุฑ ููุงู ููุทูู ูพุฏุง ุดูุฏ
   - ุงฺฏุฑ ูพุดุชุจุงู ููุฌูุฏ ูุจุงุดุฏุ ูพุงู ุณุณุชู ุจู ฺฉุงุฑุจุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ
   - ุชฺฉุช ุจู ุญุงูุช `Open` ุจุฑูโฺฏุฑุฏุฏ ุชุง ูพุดุชุจุงู ุจุนุฏ ุขู ุฑุง ุจุฑุฏุงุฑุฏ

2. **ุชุฎุตุต ุฎูุฏฺฉุงุฑ ุชฺฉุชโูุง ุฏุฑ ุงูุชุธุงุฑ**:
   - ููุช ูพุดุชุจุงู ุขููุงู ูโุดูุฏุ ุชฺฉุชโูุง ุจุฏูู ูพุงุณุฎ ุฎูุฏฺฉุงุฑ ุจู ุงู ุชุฎุตุต ุฏุงุฏู ูโุดูุฏ
   - ุฏุฑ ูุธุฑ ฺฏุฑูุชู ููุทูู ู ุญุฏุงฺฉุซุฑ ุธุฑูุช ูพุดุชุจุงู

3. **ูพุงูโูุง ุณุณุชู ุจู ูุงุฑุณ**:
   - "ฺุช ุดูุง ุจู ูพุดุชุจุงู ุฏฺฏุฑ ููุชูู ุดุฏ. ูุทูุงู ููุชุธุฑ ุจูุงูุฏ."
   - "ุฏุฑ ุญุงู ุญุงุถุฑ ูพุดุชุจุงู ุขููุงู ุฏุฑ ุฏุณุชุฑุณ ูุณุช. ุจู ูุญุถ ูุฑูุฏ ูพุดุชุจุงูุ ุจู ุดูุง ูพุงุณุฎ ุฏุงุฏู ุฎูุงูุฏ ุดุฏ."
   - "ูพุดุชุจุงู ุจู ฺุช ูุชุตู ุดุฏ."

4. **ุณูุงุฑููุง ูพูุดุด ุฏุงุฏู ุดุฏู**:
   - ูพุดุชุจุงู ุฏุฑ ุญู ูพุงุณุฎฺฏู ุขููุงู ูโุดูุฏ (ุดูุช ุชูุงู ูโุดูุฏ)
   - ูพุดุชุจุงู ุจู ุญุฏุงฺฉุซุฑ ุธุฑูุช ูโุฑุณุฏ
   - ูฺ ูพุดุชุจุงู ุขููุงู ูุณุช
   - ูพุดุชุจุงู ุฌุฏุฏ ุขููุงู ูโุดูุฏ ู ุชฺฉุชโูุง ุฏุฑ ุงูุชุธุงุฑ ูุฌูุฏ ุฏุงุฑุฏ

**ูุงูโูุง ุชุบุฑ ุงูุชู**:
- `src/Application/Support/Commands/CreateSupportAgentCommand.cs` (ุฌุฏุฏ)
- `src/Application/Support/Commands/UpdateSupportAgentCommand.cs` (ุฌุฏุฏ)
- `src/Application/Support/Commands/DeleteSupportAgentCommand.cs` (ุฌุฏุฏ)
- `src/Application/Support/Queries/GetAllAgentsQuery.cs` (ุฌุฏุฏ)
- `src/Infrastructure/Service/AgentAssignmentService.cs`
- `src/Web/Endpoints/Support.cs`

---

## โณ ููุงุฑุฏ ุจุงูโูุงูุฏู (ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ ุจุดุชุฑ)

### 4. ุณุงููุช ฺฉุฑุฏู ููุชูฺฉุดู ุจุฑุง ูุฑ ฺฏุฑูู

**ุขูฺู ูุงุฒ ุงุณุช**:
- ุงูุฒูุฏู ููุฏ `IsMuted` ุจู ุฌุฏูู `ChatRoomMember`
- API endpoint ุจุฑุง toggle ฺฉุฑุฏู mute
- UI ุฏุฑ frontend ุจุฑุง ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ููุชู ูุฑ ฺฏุฑูู
- ููุชุฑ ฺฉุฑุฏู ููุชูฺฉุดูโูุง ุจุฑ ุงุณุงุณ ูุถุนุช mute

### 5. ููุชูฺฉุดู ุจุฑุง ฺฉุงุฑุจุฑุงู ุฏุฑ ุฏู ููุทูู

**ุขูฺู ูุงุฒ ุงุณุช**:
- ุจุฑุฑุณ ู ุงุตูุงุญ ููุทู ุงุฑุณุงู ููุชูฺฉุดู ุฏุฑ `NewMessageNotifier`
- ุงุทููุงู ุงุฒ ุงูฺฉู ุจุฑุง ูุฑ ููุทููโุง ฺฉู ฺฉุงุฑุจุฑ ุฏุฑ ุขู ุนุถู ุงุณุชุ ููุชู ุงุฑุณุงู ุดูุฏ

### 6. ูุดุงูุฏู ุฎูุงูุฏู ุดุฏู ูพุงู ุฏุฑ ฺฏุฑูู (Read Receipts)

**ุขูฺู ูุงุฒ ุงุณุช**:
- ููุงุด ูุณุช ฺฉุงุฑุจุฑุงู ฺฉู ูพุงู ุฑุง ุฎูุงูุฏูโุงูุฏ
- UI ููุงุณุจ ุจุฑุง ููุงุด (ูุซู Telegram)
- Query ฺฉุฑุฏู `MessageStatuses` ุจุฑุง ูุฑ ูพุงู

### 7. ุฏุงูููุฏ ูุงู ุฏุฑ WebView

**ุขูฺู ูุงุฒ ุงุณุช**:
- ุจุฑุฑุณ ุงูฺฉู ุขุง ูุดฺฉู ุงุฒ ุณูุช ุณุฑูุฑ ุงุณุช ุง ุงูพูฺฉุดู Android
- ุงฺฏุฑ ุงุฒ ุณูุช ุณุฑูุฑ ุจุงุดุฏุ ุงุถุงูู ฺฉุฑุฏู header ูุง ููุงุณุจ ุจุฑุง ุฏุงูููุฏ

### 12. ุฑุงุจุท ฺฉุงุฑุจุฑ (Frontend) ุจุฑุง ูุฏุฑุช ูพุดุชุจุงูโูุง

**ุขูฺู ูุงุฒ ุงุณุช**:
- ุตูุญู ูุฏุฑุช ูพุดุชุจุงูโูุง ุฏุฑ React
- ููุงุด ูุณุช ูพุดุชุจุงูโูุง ุจุง ูุถุนุช ุขููุงู/ุขููุงู
- ูุฑู ุงูุฒูุฏู/ูุฑุงุด ูพุดุชุจุงู
- ููุงุด ุขูุงุฑ ุงุฒ ุชฺฉุชโูุง ูุฑ ูพุดุชุจุงู

---

## ๐ ูฺฉุงุช ููู ุจุฑุง ุชูุณุนูโุฏููุฏู

### ุณุงุฎุชุงุฑ ูพุฑูฺู

- **Backend**: .NET 9 ุจุง Clean Architecture
  - `Domain`: Entity ูุง ู Enum ูุง
  - `Application`: Command ูุงุ Query ูุง ู Interface ูุง
  - `Infrastructure`: ูพุงุฏูโุณุงุฒ ุณุฑูุณโูุง ู Hub ูุง SignalR
  - `Web`: Endpoint ูุง ู Controllers

- **Frontend**: React ุจุง Vite
  - `components`: ฺฉุงููพูููุชโูุง UI
  - `contexts`: Context ูุง React ุจุฑุง state management
  - `services`: ุณุฑูุณโูุง API ู SignalR
  - `hooks`: Custom hooks

### ฺฺฏููู ุชุณุช ฺฉูู

1. **ุจูุฏ ูพุฑูฺู**:
   ```bash
   cd /home/runner/work/Chat_Support/Chat_Support/Chat_Support
   dotnet build -c Release
   ```

2. **ุงุฌุฑุง ูพุฑูฺู**:
   ```bash
   dotnet run --project src/Web
   ```

3. **ุชุณุช Frontend**:
   ```bash
   cd src/Web/ClientApp
   npm install
   npm run dev
   ```

### ูฺฉุงุช ุงููุช

- ููู endpoint ูุง ูุฏุฑุช ูพุดุชุจุงู ูุงุฒ ุจู ุงุญุฑุงุฒ ููุช ุฏุงุฑูุฏ
- ุจูุชุฑ ุงุณุช ฺฉ Policy ุฎุงุต ุจุฑุง Admin ุงุถุงูู ุดูุฏ
- ุฏุฑ ุญุงู ุญุงุถุฑ ุจุง `RequireAuthorization()` ูุญุงูุธุช ุดุฏูโุงูุฏ

---

## ๐ฏ ูพุดููุงุฏุงุช ุจุฑุง ุขูุฏู

1. **ุฏุงุดุจูุฑุฏ ูพุดุชุจุงู**:
   - ููุงุด ุขูุงุฑ real-time ุงุฒ ุชฺฉุชโูุง ูุนุงู
   - ูููุฏุงุฑ ุชุนุฏุงุฏ ุชฺฉุชโูุง ุฏุฑ ุฑูุฒ/ููุชู/ูุงู
   - ูุงูฺฏู ุฒูุงู ูพุงุณุฎฺฏู

2. **ุณุณุชู ุฑุชุจูโุจูุฏ**:
   - ุงูฺฉุงู ุฑุชุจูโุฏู ุจู ูพุดุชุจุงู ุชูุณุท ฺฉุงุฑุจุฑ
   - ููุงุด ูุงูฺฏู ุฑุถุงุช ูุดุชุฑ

3. **ฺฏุฒุงุฑุดโฺฏุฑ**:
   - ฺฏุฒุงุฑุด ุนููฺฉุฑุฏ ูุฑ ูพุดุชุจุงู
   - ฺฏุฒุงุฑุด ุชฺฉุชโูุง ุญู ุดุฏู/ุจุงุฒ
   - Export ุจู Excel/PDF

4. **ุจูุจูุฏ ููุชูฺฉุดู**:
   - ุงุณุชูุงุฏู ุงุฒ Firebase Cloud Messaging ุจุฑุง push notification
   - ุตุฏุง ุงุนูุงู ูุงุจู ุชูุธู
   - ููุงุด preview ูพุงู ุฏุฑ ููุชู

5. **ฺุช ุจุงุช ุณุงุฏู**:
   - ูพุงุณุฎ ุฎูุฏฺฉุงุฑ ุจู ุณูุงูุงุช ูุชุฏุงูู
   - ุฑุงูููุง ฺฉุงุฑุจุฑ ูุจู ุงุฒ ุงุฑุชุจุงุท ุจุง ูพุดุชุจุงู

---

## โ ฺฺฉโูุณุช ุชุณุช

- [x] ูุฑุงุด ูุงู ฺฏุฑูู
- [x] ููุงุด ุฏุฑุณุช ูุงู ฺฉุงุฑุจุฑุงู ุฏุฑ ุชุงูพูฺฏ
- [x] ุดูุงุฑูุฏู unread ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ
- [x] ุชูุถุญ ูุงู ุงุฌุจุงุฑ ุงุณุช
- [x] ุงูุฒูุฏู ูพุดุชุจุงู ุฌุฏุฏ
- [x] ูุฑุงุด ุงุทูุงุนุงุช ูพุดุชุจุงู
- [x] ุญุฐู ูพุดุชุจุงู
- [x] ุงูุชูุงู ุชฺฉุช ููฺฏุงู ุขููุงู ุดุฏู ูพุดุชุจุงู
- [x] ุชุฎุตุต ุฎูุฏฺฉุงุฑ ุชฺฉุชโูุง ุฏุฑ ุงูุชุธุงุฑ
- [ ] ููุชู ุณุงููุช ุจุฑุง ฺฏุฑููโูุง
- [ ] ููุชู ุจุฑุง ฺฉุงุฑุจุฑุงู ุฏุฑ ุฏู ููุทูู
- [ ] ูุดุงูุฏู ุฎูุงูุฏู ุดุฏู ูพุงู ุฏุฑ ฺฏุฑูู
- [ ] ุฏุงูููุฏ ูุงู ุฏุฑ WebView

---

## ๐ ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุฑ ูุดฺฉู ุง ูุงุฒ ุจู ุชูุถุญุงุช ุจุดุชุฑุ ูุทูุงู ุจุง ุชู ุชูุณุนู ุชูุงุณ ุจฺฏุฑุฏ.

ุชูุงู ุชุบุฑุงุช ุฏุฑ branch `copilot/fix-d8b4e991-7b78-403e-a900-eeb216dc66ca` ูุฑุงุฑ ุฏุงุฑูุฏ.
